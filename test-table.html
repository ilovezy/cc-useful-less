<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="bootstrap-3.2.0-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="cc-less/cc-padding-margin.css">
</head>

<body>
    <div class="container pt-30">
        <table id="mainSingleTable" class="table table-striped table-hover table-bordered text-center">
            <thead>
                <tr>
                    <td>年度</td>
                    <td>一季度</td><td>同比</td>
                    <td>二季度</td><td>同比</td>
                    <td>三季度</td><td>同比</td>
                    <td>四季度</td><td>同比</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2015</td>
                    <td>0.393</td>
                    <td>0.416</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>2014</td>
                    <td>0.353</td>
                    <td>0.351</td>
                    <td>0.393</td>
                    <td>0.287</td>
                </tr>
                <tr>
                    <td>2013</td>
                    <td>0.251</td>
                    <td>0.275</td>
                    <td>0.291</td>
                    <td>0.247</td>
                </tr>
                <tr>
                    <td>2012</td>
                    <td>0.240</td>
                    <td>0.233</td>
                    <td>0.243</td>
                    <td>0.221</td>
                </tr>
                <tr>
                    <td>2011</td>
                    <td>0.168</td>
                    <td>0.163</td>
                    <td>0.207</td>
                    <td>0.181</td>
                </tr>
                <tr>
                    <td>2010</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.331</td>
                    <td>0.108</td>
                </tr>
                <tr>
                    <td>2009</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                </tr>
                <tr>
                    <td>2008</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                    <td>0.000</td>
                </tr>
                <tr>
                    <td>2007</td>
                    <td>0.037</td>
                    <td>-0.037</td>
                    <td>0.000</td>
                    <td>0.000</td>
                </tr>
                <tr>
                    <td>2006</td>
                    <td>0.051</td>
                    <td>-0.019</td>
                    <td>0.030</td>
                    <td>0.029</td>
                </tr>
                <tr>
                    <td>2005</td>
                    <td></td>
                    <td></td>
                    <td>0.009</td>
                    <td>0.001</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script>

    $('tbody tr').each(function() {
        $(this).find('td').each(function(index, el) {
            if (index > 0 && index % 2 == 1) {
                var thisYearVal = $(this).text();
                var prevYearVal = $(this).parent('tr').next('tr').find('td').eq(index).text();

                if ((+thisYearVal) !== 0) {
                    thisYearVal = +thisYearVal;
                }
                if ((+prevYearVal) !== 0) {
                    prevYearVal = +prevYearVal;
                }
                console.log(thisYearVal);
                console.log(prevYearVal);

                if (thisYearVal !== '' && prevYearVal !== '' && prevYearVal > 0) {
                    var increasePercent = (((thisYearVal - prevYearVal) / prevYearVal) * 100).toFixed(1);

                    // $(this).text($(this).text() + ' -- ' + increasePercent)
                    console.log('上涨率为 ' + increasePercent)
                    if(increasePercent > 0) {
                        $(this).html($(this).text() + '<span class="text-danger"><i>' + increasePercent + '%</i><span>')
                    } else {
                        $(this).html($(this).text() + '<span class="text-success"><i>' + increasePercent + '%</i><span>')
                    }

                } else {

                }
            }
        });
        console.log('一次循环结束-----------------------')
    });
    </script>
</body>

</html>
